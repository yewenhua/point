<div class="hbox hbox-auto-xs bg-light" ng-init="app.settings.asideFixed = true; app.settings.asideDock = false; app.settings.container = false; app.hideAside = false; app.hideFooter = true;" ng-controller=RoleCtrl><div class=col><div class="bg-light lter b-b wrapper-md ng-scope"><h1 class="m-n font-thin h3">角色设置</h1></div><div class=vbox><div class=wrapper-md ng-show="!creating && !editing"><div class="input-group align-right"><span class="input-group-addon input-sm" ng-click=searchData()><i class="fa fa-search"></i></span> <input type=text class="form-control input-sm ng-pristine ng-valid ng-touched input-search-width" placeholder=按角色名称搜索 ng-model=query ng-enter=searchData()> <a class="pull-right btn btn-sm btn-info m-t-n-xs" ng-click=createRole()><i class="fa fa-fw m-r-xs fa-plus"></i>新建</a></div><br><div class="panel panel-default relative"><div class=yp-mask-content ng-show=loading><div class=yp-mask></div><div class=yp-mask-loading><div class="spinner spinner-sm"><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div></div><div class=panel-heading>角色列表</div><div><table class="table m-b-none align-center"><thead><tr><th>序号</th><th>角色名称</th><th>角色描述</th><th><p class=privilege-max-width>角色列表</p></th><th>创建时间</th><th>操作</th></tr></thead><tbody class=article_table><tr ng-repeat="item in dataList"><td ng-cloak>{{(page - 1) * perPage + $index + 1}}</td><td ng-cloak>{{item.name ? item.name : '--'}}</td><td ng-cloak>{{item.desc ? item.desc : '--'}}</td><td ng-cloak title="{{item.privilegeName ? item.privilegeName : '--'}}"><p class=privilege-max-width>{{item.privilegeName ? item.privilegeName : '--'}}</p></td><td ng-cloak>{{item.created_at.substring(0, 10)}}</td><td><button class="btn btn-sm btn-primary btn-smest" ng-click=updateRole(item)><i class="fa fa-fw m-r-xs fa-pencil"></i>修改</button> <button class="btn btn-sm btn-danger btn-smest" ng-click=deleteRole(item)><i class="fa fa-fw m-r-xs fa-trash-o"></i>删除</button><div class=clear></div></td></tr><tr ng-if=!haveData><td colspan=9 class=text-center>没有数据！</td></tr></tbody><tfoot class=hide-if-no-paging ng-show=haveData><tr><td colspan=6 class=text-center><div class=page-content ng-hide=loading><ul class="divpage-ul ul-border-left" id=divpage-page><li class=divpage ng-click=getInfoPage(1) ng-class="{true:'disable'}[isFirst(page)]">首页</li><li class=divpage ng-click=getInfoPage(page-1) ng-class="{true:'disable'}[isFirst(page)]">上一页</li><li class=divpage ng-click=divpageByPage($event)></li><li class=divpage ng-click=divpageByPage($event)></li><li class=divpage ng-click=divpageByPage($event)></li><li class=divpage ng-click=divpageByPage($event)></li><li class=divpage ng-click=divpageByPage($event)></li><li class=divpage ng-click="getInfoPage(page + 1)" ng-class="{'disable':isDisable(page)}">下一页</li><li class=divpage ng-click=getInfoPage(totalPage) ng-class="{'disable':isDisable(page)}">尾页</li></ul></div></td></tr></tfoot></table></div></div></div><div class=wrapper-md ng-show="creating || editing"><div class="panel panel-default"><div class="panel-heading font-bold">请填写以下信息</div><div class=panel-body><form name=form><div class=form-group><label>角色名称</label> <input type=text placeholder=请输入角色名称 class=form-control ng-model=role.name required></div><div class=form-group><label>角色描述</label> <input type=text placeholder=请输入角色名称 class=form-control ng-model=role.desc required></div><label>角色权限</label><div class=form-group><div><strong>商品管理</strong></div><div ng-if=goods(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>订单管理</strong></div><div ng-if=orderlist(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>会员管理</strong></div><div ng-if=member(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>财务明细</strong></div><div ng-if=financial_detail(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>财务管理</strong></div><div ng-if=financial_manager(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>数据统计</strong></div><div ng-if=statistic(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>营销管理</strong></div><div ng-if=operate(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>插件管理</strong></div><div ng-if=plugin(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>系统管理</strong></div><div ng-if=system(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div><div><strong>我的</strong></div><div ng-if=my(item) class="checkbox inline-block margin-right-check role_item" ng-repeat="item in privilegeData"><div class="align-center role-name-item">{{item.page_name}}</div><label class="i-checks i-checks-sm margin-right-role"><input type=checkbox ng-checked=item.readSelected ng-model=item.readSelected ng-change=changeRead(item)> <i></i><span class=role_name_check>读权限</span></label> <label class="i-checks i-checks-sm"><input type=checkbox ng-checked=item.writeSelected ng-model=item.writeSelected ng-change=changeWrite(item)> <i></i><span class=role_name_check>写权限</span></label></div></div><div><button type=button class="btn btn-sm btn-primary" ng-disabled="form.$invalid || active" ng-click=editRole()>{{submitHtml}}</button> <button type=button class="btn btn-sm btn-warning" ng-click=cancel()>返回</button></div></form></div></div></div></div></div></div>