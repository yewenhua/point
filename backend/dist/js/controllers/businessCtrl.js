angular.module("app").controller("BusinessCtrl",["$scope","$rootScope","CommonFunction","DataLoad","toaster",function(i,o,t,u,e){i.quick={},i.quick.mobile="",i.company_get_type=2,i.quick.point="",i.quick.mark="",i.submit=!1,i.submit_html="提交",i.quick=function(){if(""==i.quick.mobile)return e.pop("error","商家结算","手机号码不能为空！"),!1;if(""==i.quick.point)return e.pop("error","商家结算","获利积分不能为空！"),!1;if(0==i.submit){i.submit=!0,i.submit_html="提交中…";var o=u.quickBusiness({mobile:i.quick.mobile,company_get_type:i.company_get_type,point:i.quick.point,mark:i.quick.mark});return o.then(function(o){o&&0==o.code?(i.quick.mobile="",i.quick.point="",i.quick.mark="",e.pop("success","商家结算","结算成功！")):e.pop("error","商家结算",o.message),i.submit=!1,i.submit_html="提交"},function(){i.submit=!1,i.submit_html="提交",e.pop("error","商家结算","结算出错！")})}}}]);